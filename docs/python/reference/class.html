

<!DOCTYPE html>
<html class="writer-html5" lang="ja" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>boost/python/class.hpp &mdash; Boost.Python（日本語訳）  ドキュメント</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/translations.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="検索" href="../search.html" />
    <link rel="next" title="boost/python/def.hpp" href="def.html" />
    <link rel="prev" title="高水準コンポーネント" href="components.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> Boost.Python（日本語訳）
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">目次</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">リリースノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">チュートリアル</a></li>
<li class="toctree-l1"><a class="reference internal" href="../building.html">ビルドとテスト</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../reference.html">リファレンスマニュアル</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="concepts.html">コンセプト</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="components.html">高水準コンポーネント</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">boost/python/class.hpp</a></li>
<li class="toctree-l3"><a class="reference internal" href="def.html">boost/python/def.hpp</a></li>
<li class="toctree-l3"><a class="reference internal" href="def_visitor.html">boost/python/def_visitor.hpp</a></li>
<li class="toctree-l3"><a class="reference internal" href="docstring_options.html">boost/python/docstring_options.hpp</a></li>
<li class="toctree-l3"><a class="reference internal" href="enum.html">boost/python/enum.hpp</a></li>
<li class="toctree-l3"><a class="reference internal" href="errors.html">boost/python/errors.hpp</a></li>
<li class="toctree-l3"><a class="reference internal" href="exception_translator.html">boost/python/exception_translator.hpp</a></li>
<li class="toctree-l3"><a class="reference internal" href="init.html">boost/python/init.hpp</a></li>
<li class="toctree-l3"><a class="reference internal" href="iterator.html">boost/python/iterator.hpp</a></li>
<li class="toctree-l3"><a class="reference internal" href="module.html">boost/python/module.hpp</a></li>
<li class="toctree-l3"><a class="reference internal" href="operators.html">boost/python/operators.hpp</a></li>
<li class="toctree-l3"><a class="reference internal" href="scope.html">boost/python/scope.hpp</a></li>
<li class="toctree-l3"><a class="reference internal" href="stl_iterator.html">boost/python/stl_iterator.hpp</a></li>
<li class="toctree-l3"><a class="reference internal" href="wrapper.html">boost/python/wrapper.hpp</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="objects.html">オブジェクトラッパ</a></li>
<li class="toctree-l2"><a class="reference internal" href="functions.html">関数の呼び出しと作成</a></li>
<li class="toctree-l2"><a class="reference internal" href="conversion.html">Python との型変換</a></li>
<li class="toctree-l2"><a class="reference internal" href="embedding.html">組み込み</a></li>
<li class="toctree-l2"><a class="reference internal" href="utility.html">ユーティリティとインフラストラクチャ</a></li>
<li class="toctree-l2"><a class="reference internal" href="topics.html">トピック</a></li>
<li class="toctree-l2"><a class="reference internal" href="../glossary.html">用語</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html">設定に関する情報</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">用語</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support.html">サポートリソース</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">よくある質問と回答</a></li>
<li class="toctree-l1"><a class="reference internal" href="../numpy/index.html">Boost.Python（NumPy）</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../platforms.html">動作を確認したプラットフォームとコンパイラ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../projects.html">Boost.Python を使用しているプロジェクト</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../internals.html">Boost.Python の裏側</a></li>
<li class="toctree-l1"><a class="reference internal" href="../news.html">新着情報・変更履歴</a></li>
<li class="toctree-l1"><a class="reference internal" href="../todo.html">TODO リスト</a></li>
<li class="toctree-l1"><a class="reference internal" href="../progress_reports.html">LLNL 進捗レポート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../acknowledgements.html">謝辞</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Boost.Python（日本語訳）</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../reference.html">リファレンスマニュアル</a> &raquo;</li>
        
          <li><a href="components.html">高水準コンポーネント</a> &raquo;</li>
        
      <li>boost/python/class.hpp</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/reference/class.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="boost-python-class-hpp">
<h1>boost/python/class.hpp<a class="headerlink" href="#boost-python-class-hpp" title="このヘッドラインへのパーマリンク">¶</a></h1>
<div class="contents local topic" id="id1">
<ul class="simple">
<li><p><a class="reference internal" href="#v2-class-introduction" id="id23">はじめに</a></p></li>
<li><p><a class="reference internal" href="#v2-class-classes" id="id24">クラス</a></p></li>
<li><p><a class="reference internal" href="#v2-class-examples" id="id25">例</a></p></li>
</ul>
</div>
<div class="section" id="v2-class-introduction">
<span id="id2"></span><h2><a class="toc-backref" href="#id23">はじめに</a><a class="headerlink" href="#v2-class-introduction" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><code class="file docutils literal notranslate"><span class="pre">&lt;boost/python/class.hpp&gt;</span></code> は、ユーザが C++ クラスを Python へエクスポートするためのインターフェイスを定義する。<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">class_</span></code> クラステンプレートを宣言し、その引数はエクスポートするクラス型である。また <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">init</span></code> 、<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">optional</span></code> および <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">bases</span></code> ユーティリティクラステンプレートもエクスポートし、これらは <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">class_</span></code> クラステンプレートと組み合わせて使用する。</p>
<p><code class="file docutils literal notranslate"><span class="pre">&lt;boost/python/class_fwd.hpp&gt;</span></code> には <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">class_</span></code> クラステンプレートの先行宣言がある。</p>
</div>
<div class="section" id="v2-class-classes">
<span id="id3"></span><h2><a class="toc-backref" href="#id24">クラス</a><a class="headerlink" href="#v2-class-classes" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="class-t-bases-heldtype-noncopyable">
<span id="v2-class-class-spec"></span><h3><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">class_&lt;T,</span> <span class="pre">Bases,</span> <span class="pre">HeldType,</span> <span class="pre">NonCopyable&gt;</span></code> クラステンプレート<a class="headerlink" href="#class-t-bases-heldtype-noncopyable" title="このヘッドラインへのパーマリンク">¶</a></h3>
<div class="contents local topic" id="id4">
<ul class="simple">
<li><p><a class="reference internal" href="#heldtype" id="id26">HeldType のセマンティクス</a></p></li>
<li><p><a class="reference internal" href="#class" id="id27"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">class_</span></code> クラステンプレートの概要</a></p></li>
<li><p><a class="reference internal" href="#v2-class-class-spec-ctors" id="id28"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">class_</span></code> クラステンプレートのコンストラクタ</a></p></li>
<li><p><a class="reference internal" href="#v2-class-class-spec-modifiers" id="id29">クラステンプレート <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">class_</span></code> の変更関数</a></p></li>
</ul>
</div>
<dl class="cpp class">
<dt id="_CPPv4I0000EN5boost6python6class_E">
<span id="_CPPv3I0000EN5boost6python6class_E"></span><span id="_CPPv2I0000EN5boost6python6class_E"></span>template&lt;class <code class="sig-name descname">T</code>, class <code class="sig-name descname">Bases</code> = <a class="reference internal" href="#_CPPv4IDpEN5boost6python5basesE" title="boost::python::bases">bases</a>&lt;&gt;, class <code class="sig-name descname">HeldType</code> = <a class="reference internal" href="#_CPPv4I0000EN5boost6python6class_E" title="boost::python::class_::T">T</a>, class <code class="sig-name descname">NonCopyable</code> = unspecified&gt;<br /><em class="property">class </em><code class="sig-name descname">class_</code> : <em class="property">public</em> <a class="reference internal" href="object.html#_CPPv4N5boost6python6objectE" title="boost::python::object">object</a><a class="headerlink" href="#_CPPv4I0000EN5boost6python6class_E" title="この定義へのパーマリンク">¶</a><br /></dt>
<dd><p>第 1 引数として渡した C++ 型に対応する Python クラスを作成する。引数は 4 つあるが、必須なのは 1 番目だけである。3 つの省略可能な引数は<strong>どのような順序でもよく</strong>、Boost.Python は引数の型から役割を判断する。</p>
<dl class="field-list simple">
<dt class="field-odd">テンプレートパラメータ</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Bases</strong> -- <p>ラップした <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">T</span></code> インスタンスからその直接的または間接的な基本型それぞれへの <code class="docutils literal notranslate"><span class="pre">from_python</span></code> 変換を登録する。多態的な各基底型 <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">B</span></code> について、間接的に保持されたラップした <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">B</span></code> インスタンスから <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">T</span></code> への変換を登録する。</p>
<dl class="field-list simple">
<dt class="field-odd">要件</dt>
<dd class="field-odd"><p>それ以前にエクスポートした <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">T</span></code> の C++ 基底クラス群を指定する <a class="reference internal" href="#_CPPv4IDpEN5boost6python5basesE" title="boost::python::bases"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">bases&lt;&gt;</span></code></a> の特殊化。<a class="footnote-reference brackets" href="#id21" id="id5">1</a></p>
</dd>
<dt class="field-even">既定</dt>
<dd class="field-even"><p><a class="reference internal" href="#_CPPv4IDpEN5boost6python5basesE" title="boost::python::bases"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">bases&lt;&gt;</span></code></a></p>
</dd>
</dl>
</p></li>
<li><p><strong>HeldType</strong> -- <p><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">T</span></code> のコンストラクタを呼び出したとき、または <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">T</span></code> や <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">T*</span></code> を <a class="reference internal" href="ptr.html#_CPPv4I0EN5boost6python3ptrE15pointer_wrapperI1TE1T" title="boost::python::ptr"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ptr</span></code></a> 、<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ref</span></code> 、あるいは <a class="reference internal" href="return_internal_reference.html#_CPPv4I_NSt6size_tE0EN5boost6python25return_internal_referenceE" title="boost::python::return_internal_reference"><code class="xref cpp cpp-struct docutils literal notranslate"><span class="pre">return_internal_reference</span></code></a> 等の <a class="reference internal" href="concepts.html#concepts-callpolicies"><span class="std std-ref">CallPolicies</span></a> を使用せずに Python へ変換したとき、<code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">T</span></code> のインスタンスをラップする Python オブジェクトへ実際に組み込む型を指定する。詳細は<a class="reference internal" href="#v2-class-heldtype"><span class="std std-ref">後述する</span></a>。</p>
<dl class="field-list simple">
<dt class="field-odd">要件</dt>
<dd class="field-odd"><p><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">T</span></code> 、<code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">T</span></code> の派生クラス、または <a class="reference internal" href="pointee.html#_CPPv4I0EN5boost6python7pointeeE" title="boost::python::pointee"><code class="xref cpp cpp-struct docutils literal notranslate"><span class="pre">pointee</span></code></a><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">&lt;HeldType&gt;::type</span></code> が <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">T</span></code> か <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">T</span></code> の派生クラスである <a class="reference internal" href="concepts.html#concepts-dereferenceable"><span class="std std-ref">Dereferenceable</span></a> 型。</p>
</dd>
<dt class="field-even">既定</dt>
<dd class="field-even"><p><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">T</span></code></p>
</dd>
</dl>
</p></li>
<li><p><strong>NonCopyable</strong> -- <p><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">T</span></code> のインスタンスをコピーする <code class="docutils literal notranslate"><span class="pre">to_python</span></code> 変換の自動的な登録を抑止する。<code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">T</span></code> が公開アクセス可能なコピーコンストラクタを持たない場合に必要である。</p>
<dl class="field-list simple">
<dt class="field-odd">要件</dt>
<dd class="field-odd"><p>与えられた場合、<a class="reference external" href="http://www.boost.org/libs/utility/utility.htm#Class_noncopyable">boost::noncopyable</a> でなければならない。</p>
</dd>
<dt class="field-even">既定</dt>
<dd class="field-even"><p><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">boost::noncopyable</span></code> 以外の未規定の型。</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<div class="section" id="heldtype">
<span id="v2-class-heldtype"></span><h4><a class="toc-backref" href="#id26">HeldType のセマンティクス</a><a class="headerlink" href="#heldtype" title="このヘッドラインへのパーマリンク">¶</a></h4>
<blockquote>
<div><ol class="arabic simple">
<li><p><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">HeldType</span></code> が <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">T</span></code> から派生している場合、そのエクスポートしたコンストラクタは、<code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">HeldType</span></code> インスタンスを持つ Python オブジェクトを逆向きに参照する <code class="xref c c-type docutils literal notranslate"><span class="pre">PyObject*</span></code> を第 1 引数に受け取らなければならない（<a class="reference internal" href="call_method.html#v2-call-method-examples"><span class="std std-ref">例</span></a>）。この引数は <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="#_CPPv4I0EN5boost6python6class_3defER6class_4Init" title="boost::python::class_::def"><span class="pre">def</span></a><span class="pre">(</span><span class="pre">init_expr</span><span class="pre">)</span></code> に渡される <a class="reference internal" href="init.html#grammar-token-init-expression"><code class="xref std std-token docutils literal notranslate"><span class="pre">init-expression</span></code></a> には含まれず、<code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">T</span></code> の Python インスタンスが作成されるときユーザが明示的に渡すこともない。このイディオムにより、Python 側でオーバーライドする C++ 仮想関数が Python オブジェクトにアクセス可能となり、Python のメソッドが呼び出し可能となる。Boost.Python は <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">HeldType</span></code> 引数を要求するラップした C++ 関数に <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">T</span></code> のラップしたインスタンスを渡すための変換器を自動的に登録する。</p></li>
<li><p>Boost.Python は <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">T</span></code> のラップしたインスタンスが <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">HeldType</span></code> 型の引数として渡すことを認めているため、<code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">HeldType</span></code> のスマートポインタを指定することでユーザは <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">T</span></code> へのスマートポインタを受け取るところに Python の <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">T</span></code> インスタンスを渡すことができる。<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">std::auto_ptr</span></code> や <a class="reference external" href="http://www.boost.org/libs/smart_ptr/smart_ptr.htm">boost::shared_ptr&lt;&gt;</a> といった対象の型を指す入れ子の <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">element_type</span></code> 型を持つスマートポインタは自動的にサポートされる。<a class="footnote-reference brackets" href="#id22" id="id6">2</a> <a class="reference internal" href="pointee.html#_CPPv4I0EN5boost6python7pointeeE" title="boost::python::pointee"><code class="xref cpp cpp-struct docutils literal notranslate"><span class="pre">pointee&lt;HeldType&gt;</span></code></a> を特殊化することで、他のスマートポインタ型もサポートされる。</p></li>
<li><p>上の 1. で述べたとおり、<code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">HeldType</span></code> が <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">T</span></code> の派生型に対するスマートポインタの場合、<code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">HeldType</span></code> のエクスポートしたコンストラクタすべてで <code class="xref c c-type docutils literal notranslate"><span class="pre">PyObject*</span></code> を第 1 引数として与えなければならない。</p></li>
<li><p>上記 1. および 3. 以外でユーザは <a class="reference internal" href="has_back_reference.html#_CPPv4I0EN5boost6python18has_back_referenceE" title="boost::python::has_back_reference"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">has_back_reference&lt;&gt;</span></code></a> を特殊化することで、<code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">T</span></code> 自身が第 1 引数である <code class="xref c c-type docutils literal notranslate"><span class="pre">PyObject*</span></code> で初期化されることをオプション的に指定できる。</p></li>
</ol>
</div></blockquote>
</div>
<div class="section" id="class">
<span id="v2-class-class-spec-synopsis"></span><h4><a class="toc-backref" href="#id27"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">class_</span></code> クラステンプレートの概要</a><a class="headerlink" href="#class" title="このヘッドラインへのパーマリンク">¶</a></h4>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">namespace</span> <span class="n">boost</span> <span class="p">{</span> <span class="k">namespace</span> <span class="n">python</span>
<span class="p">{</span>
  <span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">T</span>
      <span class="p">,</span> <span class="k">class</span> <span class="nc">Bases</span> <span class="o">=</span> <span class="n">bases</span><span class="o">&lt;&gt;</span>
            <span class="p">,</span> <span class="k">class</span> <span class="nc">HeldType</span> <span class="o">=</span> <span class="n">T</span>
            <span class="p">,</span> <span class="k">class</span> <span class="nc">NonCopyable</span> <span class="o">=</span> <span class="n">unspecified</span>
           <span class="o">&gt;</span>
  <span class="k">class</span> <span class="nc">class_</span> <span class="o">:</span> <span class="k">public</span> <span class="n">object</span>
  <span class="p">{</span>
    <span class="c1">// 既定の __init__ を使用するコンストラクタ</span>
    <span class="n">class_</span><span class="p">(</span><span class="kt">char</span> <span class="k">const</span><span class="o">*</span> <span class="n">name</span><span class="p">);</span>
    <span class="n">class_</span><span class="p">(</span><span class="kt">char</span> <span class="k">const</span><span class="o">*</span> <span class="n">name</span><span class="p">,</span> <span class="kt">char</span> <span class="k">const</span><span class="o">*</span> <span class="n">docstring</span><span class="p">);</span>

    <span class="c1">// 既定でない __init__ を指定するコンストラクタ</span>
    <span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">Init</span><span class="o">&gt;</span>
    <span class="n">class_</span><span class="p">(</span><span class="kt">char</span> <span class="k">const</span><span class="o">*</span> <span class="n">name</span><span class="p">,</span> <span class="n">Init</span><span class="p">);</span>
    <span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">Init</span><span class="o">&gt;</span>
    <span class="n">class_</span><span class="p">(</span><span class="kt">char</span> <span class="k">const</span><span class="o">*</span> <span class="n">name</span><span class="p">,</span> <span class="kt">char</span> <span class="k">const</span><span class="o">*</span> <span class="n">docstring</span><span class="p">,</span> <span class="n">Init</span><span class="p">);</span>

    <span class="c1">// 追加の __init__ 関数のエクスポート</span>
    <span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">Init</span><span class="o">&gt;</span>
    <span class="n">class_</span><span class="o">&amp;</span> <span class="n">def</span><span class="p">(</span><span class="n">Init</span><span class="p">);</span>

    <span class="c1">// メソッドの定義</span>
    <span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">F</span><span class="o">&gt;</span>
    <span class="n">class_</span><span class="o">&amp;</span> <span class="n">def</span><span class="p">(</span><span class="kt">char</span> <span class="k">const</span><span class="o">*</span> <span class="n">name</span><span class="p">,</span> <span class="n">F</span> <span class="n">f</span><span class="p">);</span>
    <span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">Fn</span><span class="p">,</span> <span class="k">class</span> <span class="nc">A1</span><span class="o">&gt;</span>
    <span class="n">class_</span><span class="o">&amp;</span> <span class="n">def</span><span class="p">(</span><span class="kt">char</span> <span class="k">const</span><span class="o">*</span> <span class="n">name</span><span class="p">,</span> <span class="n">Fn</span> <span class="n">fn</span><span class="p">,</span> <span class="n">A1</span> <span class="k">const</span><span class="o">&amp;</span><span class="p">);</span>
    <span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">Fn</span><span class="p">,</span> <span class="k">class</span> <span class="nc">A1</span><span class="p">,</span> <span class="k">class</span> <span class="nc">A2</span><span class="o">&gt;</span>
    <span class="n">class_</span><span class="o">&amp;</span> <span class="n">def</span><span class="p">(</span><span class="kt">char</span> <span class="k">const</span><span class="o">*</span> <span class="n">name</span><span class="p">,</span> <span class="n">Fn</span> <span class="n">fn</span><span class="p">,</span> <span class="n">A1</span> <span class="k">const</span><span class="o">&amp;</span><span class="p">,</span> <span class="n">A2</span> <span class="k">const</span><span class="o">&amp;</span><span class="p">);</span>
    <span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">Fn</span><span class="p">,</span> <span class="k">class</span> <span class="nc">A1</span><span class="p">,</span> <span class="k">class</span> <span class="nc">A2</span><span class="p">,</span> <span class="k">class</span> <span class="nc">A3</span><span class="o">&gt;</span>
    <span class="n">class_</span><span class="o">&amp;</span> <span class="n">def</span><span class="p">(</span><span class="kt">char</span> <span class="k">const</span><span class="o">*</span> <span class="n">name</span><span class="p">,</span> <span class="n">Fn</span> <span class="n">fn</span><span class="p">,</span> <span class="n">A1</span> <span class="k">const</span><span class="o">&amp;</span><span class="p">,</span> <span class="n">A2</span> <span class="k">const</span><span class="o">&amp;</span><span class="p">,</span> <span class="n">A3</span> <span class="k">const</span><span class="o">&amp;</span><span class="p">);</span>

    <span class="c1">// メソッドを static として宣言</span>
    <span class="n">class_</span><span class="o">&amp;</span> <span class="nf">staticmethod</span><span class="p">(</span><span class="kt">char</span> <span class="k">const</span><span class="o">*</span> <span class="n">name</span><span class="p">);</span>

    <span class="c1">// 演算子のエクスポート</span>
    <span class="k">template</span> <span class="o">&lt;</span><span class="n">unspecified</span><span class="o">&gt;</span>
    <span class="n">class_</span><span class="o">&amp;</span> <span class="n">def</span><span class="p">(</span><span class="n">detail</span><span class="o">::</span><span class="n">operator_</span><span class="o">&lt;</span><span class="n">unspecified</span><span class="o">&gt;</span><span class="p">);</span>

    <span class="c1">// 生の属性の変更</span>
    <span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">U</span><span class="o">&gt;</span>
    <span class="n">class_</span><span class="o">&amp;</span> <span class="n">setattr</span><span class="p">(</span><span class="kt">char</span> <span class="k">const</span><span class="o">*</span> <span class="n">name</span><span class="p">,</span> <span class="n">U</span> <span class="k">const</span><span class="o">&amp;</span><span class="p">);</span>

    <span class="c1">// データメンバのエクスポート</span>
    <span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">D</span><span class="o">&gt;</span>
    <span class="n">class_</span><span class="o">&amp;</span> <span class="n">def_readonly</span><span class="p">(</span><span class="kt">char</span> <span class="k">const</span><span class="o">*</span> <span class="n">name</span><span class="p">,</span> <span class="n">D</span> <span class="n">T</span><span class="o">::*</span><span class="n">pm</span><span class="p">);</span>

    <span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">D</span><span class="o">&gt;</span>
    <span class="n">class_</span><span class="o">&amp;</span> <span class="n">def_readwrite</span><span class="p">(</span><span class="kt">char</span> <span class="k">const</span><span class="o">*</span> <span class="n">name</span><span class="p">,</span> <span class="n">D</span> <span class="n">T</span><span class="o">::*</span><span class="n">pm</span><span class="p">);</span>

    <span class="c1">// static データメンバのエクスポート</span>
    <span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">D</span><span class="o">&gt;</span>
    <span class="n">class_</span><span class="o">&amp;</span> <span class="n">def_readonly</span><span class="p">(</span><span class="kt">char</span> <span class="k">const</span><span class="o">*</span> <span class="n">name</span><span class="p">,</span> <span class="n">D</span> <span class="k">const</span><span class="o">&amp;</span> <span class="n">d</span><span class="p">);</span>
    <span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">D</span><span class="o">&gt;</span>
    <span class="n">class_</span><span class="o">&amp;</span> <span class="n">def_readwrite</span><span class="p">(</span><span class="kt">char</span> <span class="k">const</span><span class="o">*</span> <span class="n">name</span><span class="p">,</span> <span class="n">D</span><span class="o">&amp;</span> <span class="n">d</span><span class="p">);</span>

    <span class="c1">// プロパティの作成</span>
    <span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">Get</span><span class="o">&gt;</span>
    <span class="kt">void</span> <span class="n">add_property</span><span class="p">(</span><span class="kt">char</span> <span class="k">const</span><span class="o">*</span> <span class="n">name</span><span class="p">,</span> <span class="n">Get</span> <span class="k">const</span><span class="o">&amp;</span> <span class="n">fget</span><span class="p">,</span> <span class="kt">char</span> <span class="k">const</span><span class="o">*</span> <span class="n">doc</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span>
    <span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">Get</span><span class="p">,</span> <span class="k">class</span> <span class="nc">Set</span><span class="o">&gt;</span>
    <span class="kt">void</span> <span class="n">add_property</span><span class="p">(</span>
        <span class="kt">char</span> <span class="k">const</span><span class="o">*</span> <span class="n">name</span><span class="p">,</span> <span class="n">Get</span> <span class="k">const</span><span class="o">&amp;</span> <span class="n">fget</span><span class="p">,</span> <span class="n">Set</span> <span class="k">const</span><span class="o">&amp;</span> <span class="n">fset</span><span class="p">,</span> <span class="kt">char</span> <span class="k">const</span><span class="o">*</span> <span class="n">doc</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span>

    <span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">Get</span><span class="o">&gt;</span>
    <span class="kt">void</span> <span class="n">add_static_property</span><span class="p">(</span><span class="kt">char</span> <span class="k">const</span><span class="o">*</span> <span class="n">name</span><span class="p">,</span> <span class="n">Get</span> <span class="k">const</span><span class="o">&amp;</span> <span class="n">fget</span><span class="p">);</span>
    <span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">Get</span><span class="p">,</span> <span class="k">class</span> <span class="nc">Set</span><span class="o">&gt;</span>
    <span class="kt">void</span> <span class="n">add_static_property</span><span class="p">(</span><span class="kt">char</span> <span class="k">const</span><span class="o">*</span> <span class="n">name</span><span class="p">,</span> <span class="n">Get</span> <span class="k">const</span><span class="o">&amp;</span> <span class="n">fget</span><span class="p">,</span> <span class="n">Set</span> <span class="k">const</span><span class="o">&amp;</span> <span class="n">fset</span><span class="p">);</span>

    <span class="c1">// pickle のサポート</span>
    <span class="k">template</span> <span class="o">&lt;</span><span class="k">typename</span> <span class="nc">PickleSuite</span><span class="o">&gt;</span>
    <span class="n">self</span><span class="o">&amp;</span> <span class="n">def_pickle</span><span class="p">(</span><span class="n">PickleSuite</span> <span class="k">const</span><span class="o">&amp;</span><span class="p">);</span>
    <span class="n">self</span><span class="o">&amp;</span> <span class="nf">enable_pickling</span><span class="p">();</span>
  <span class="p">};</span>
<span class="p">}}</span>
</pre></div>
</div>
</div>
<div class="section" id="v2-class-class-spec-ctors">
<span id="id7"></span><h4><a class="toc-backref" href="#id28"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">class_</span></code> クラステンプレートのコンストラクタ</a><a class="headerlink" href="#v2-class-class-spec-ctors" title="このヘッドラインへのパーマリンク">¶</a></h4>
<dl class="cpp function">
<dt id="_CPPv4N5boost6python6class_6class_EPKc">
<span id="_CPPv3N5boost6python6class_6class_EPKc"></span><span id="_CPPv2N5boost6python6class_6class_EPKc"></span><span id="boost::python::class_::class___cCP"></span><code class="sig-name descname">class_</code><span class="sig-paren">(</span>char <em class="property">const</em> *<em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5boost6python6class_6class_EPKc" title="この定義へのパーマリンク">¶</a><br /></dt>
<dt id="_CPPv4N5boost6python6class_6class_EPKcPKc">
<span id="_CPPv3N5boost6python6class_6class_EPKcPKc"></span><span id="_CPPv2N5boost6python6class_6class_EPKcPKc"></span><span id="boost::python::class_::class___cCP.cCP"></span><code class="sig-name descname">class_</code><span class="sig-paren">(</span>char <em class="property">const</em> *<em>mame</em>, char <em class="property">const</em> *<em>docstring</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5boost6python6class_6class_EPKcPKc" title="この定義へのパーマリンク">¶</a><br /></dt>
<dt id="_CPPv4I0EN5boost6python6class_6class_EPKc4Init">
<span id="_CPPv3I0EN5boost6python6class_6class_EPKc4Init"></span><span id="_CPPv2I0EN5boost6python6class_6class_EPKc4Init"></span>template&lt;class <code class="sig-name descname">Init</code>&gt;<br /><code class="sig-name descname">class_</code><span class="sig-paren">(</span>char <em class="property">const</em> *<em>name</em>, <a class="reference internal" href="#_CPPv4I0EN5boost6python6class_6class_EPKc4Init" title="boost::python::class_::class_::Init">Init</a> <em>init_spec</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0EN5boost6python6class_6class_EPKc4Init" title="この定義へのパーマリンク">¶</a><br /></dt>
<dt id="_CPPv4I0EN5boost6python6class_6class_EPKcPKc4Init">
<span id="_CPPv3I0EN5boost6python6class_6class_EPKcPKc4Init"></span><span id="_CPPv2I0EN5boost6python6class_6class_EPKcPKc4Init"></span>template&lt;class <code class="sig-name descname">Init</code>&gt;<br /><code class="sig-name descname">class_</code><span class="sig-paren">(</span>char <em class="property">const</em> *<em>name</em>, char <em class="property">const</em> *<em>docstring</em>, <a class="reference internal" href="#_CPPv4I0EN5boost6python6class_6class_EPKcPKc4Init" title="boost::python::class_::class_::Init">Init</a> <em>init_spec</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0EN5boost6python6class_6class_EPKcPKc4Init" title="この定義へのパーマリンク">¶</a><br /></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">要件</dt>
<dd class="field-odd"><p><code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">name</span></code> は Python の<a class="reference external" href="http://docs.python.jp/2/reference/lexical_analysis.html#identifiers">識別子の名前付け規約</a>にしたがった <a class="reference internal" href="../glossary.html#term-ntbs"><span class="xref std std-term">ntbs</span></a>。<code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">docstring</span></code> が与えられた場合は <a class="reference internal" href="../glossary.html#term-ntbs"><span class="xref std std-term">ntbs</span></a> でなければならない。<code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">init_spec</span></code> が与えられた場合、特殊な列挙定数 <code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">no_init</span></code> か <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">T</span></code> と互換性のある <a class="reference internal" href="init.html#grammar-token-init-expression"><code class="xref std std-token docutils literal notranslate"><span class="pre">init-expression</span></code></a> のいずれかでなければならない。</p>
</dd>
<dt class="field-even">効果</dt>
<dd class="field-even"><p>名前 <code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">name</span></code> の Boost.Python 拡張クラスを保持する <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">class_</span></code> オブジェクトを構築する。<a class="reference internal" href="scope.html#v2-scope-introduction"><span class="std std-ref">現在のスコープ</span></a>において属性 <code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">name</span></code> を新しい拡張クラスに束縛する。</p>
<ul class="simple">
<li><p><code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">docstring</span></code> が与えられた場合、その値を拡張クラスの <code class="xref py py-attr docutils literal notranslate"><span class="pre">__doc__</span></code> 属性に束縛する。</p></li>
<li><p><code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">init_spec</span></code> が <code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">no_init</span></code> である場合、常に Python 例外を投げる特殊な <code class="xref py py-func docutils literal notranslate"><span class="pre">__init__</span></code> 関数を生成する。それ以外の場合は <code class="xref cpp cpp-expr docutils literal notranslate"><span class="pre">this</span><span class="pre">-&gt;</span><span class="pre">def</span><span class="pre">(</span><a class="reference internal" href="#_CPPv4I0EN5boost6python6class_6class_EPKcPKc4Init" title="boost::python::class_::class_::init_spec"><span class="pre">init_spec</span></a><span class="pre">)</span></code> を呼び出す。</p></li>
<li><p><code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">init_spec</span></code> が与えられなかった場合、<code class="xref cpp cpp-expr docutils literal notranslate"><span class="pre">this</span><span class="pre">-&gt;</span><span class="pre">def</span><span class="pre">(</span><a class="reference internal" href="init.html#_CPPv4IDpEN5boost6python4initE" title="boost::python::init"><span class="pre">init</span></a><span class="pre">&lt;</span><span class="pre">&gt;</span><span class="pre">(</span><span class="pre">)</span><span class="pre">)</span></code> を呼び出す。</p></li>
</ul>
</dd>
<dt class="field-odd">根拠</dt>
<dd class="field-odd"><p>必要な <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">T</span></code> インスタンスを作成する <code class="xref py py-func docutils literal notranslate"><span class="pre">__init__</span></code> 関数をエクスポートせずにラップしたメンバ関数を呼び出すことによって発生する、よくある実行時エラーを避けられるよう、<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">class_&lt;&gt;</span></code> コンストラクタ内でコンストラクタ引数を指定できる。</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="v2-class-class-spec-modifiers">
<span id="id9"></span><h4><a class="toc-backref" href="#id29">クラステンプレート <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">class_</span></code> の変更関数</a><a class="headerlink" href="#v2-class-class-spec-modifiers" title="このヘッドラインへのパーマリンク">¶</a></h4>
<dl class="cpp function">
<dt id="_CPPv4I0EN5boost6python6class_3defER6class_4Init">
<span id="_CPPv3I0EN5boost6python6class_3defE4Init"></span><span id="_CPPv2I0EN5boost6python6class_3defE4Init"></span>template&lt;class <code class="sig-name descname">Init</code>&gt;<br />class_ &amp;<code class="sig-name descname">def</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I0EN5boost6python6class_3defER6class_4Init" title="boost::python::class_::def::Init">Init</a> <em>init_expr</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0EN5boost6python6class_3defER6class_4Init" title="この定義へのパーマリンク">¶</a><br /></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">要件</dt>
<dd class="field-odd"><p><code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">init_expr</span></code> は <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">T</span></code> と互換性のある <a class="reference internal" href="init.html#grammar-token-init-expression"><code class="xref std std-token docutils literal notranslate"><span class="pre">init-expression</span></code></a> の結果。</p>
</dd>
<dt class="field-even">効果</dt>
<dd class="field-even"><p><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">Init</span></code> の<a class="reference internal" href="init.html#v2-init-init-expressions"><span class="std std-ref">合法な接頭辞</span></a> <code class="samp docutils literal notranslate"><em><span class="pre">P</span></em></code> それぞれについて、<code class="samp docutils literal notranslate"><em><span class="pre">P</span></em></code> を引数として受け取る拡張クラスに <code class="xref py py-func docutils literal notranslate"><span class="pre">__init__(...)</span></code> 関数の多重定義を追加する。生成された各多重定義は、上述のセマンティクスに従って <code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">init_expr</span></code> の呼び出しポリシーのコピーを使用して <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">HeldType</span></code> のオブジェクトを構築する。<code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">Init</span></code> の<a class="reference internal" href="init.html#v2-init-init-expressions"><span class="std std-ref">合法な接頭辞</span></a>の最長のものが <code class="samp docutils literal notranslate"><em><span class="pre">M</span></em></code> 個の型を有しており <code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">init_expr</span></code> が <code class="samp docutils literal notranslate"><em><span class="pre">M</span></em></code> 個のキーワードを保持しているとすると、各多重定義の先頭の <code class="samp docutils literal notranslate"><em><span class="pre">N</span></em></code> - <code class="samp docutils literal notranslate"><em><span class="pre">M</span></em></code> 個の引数に使用される。</p>
</dd>
<dt class="field-odd">戻り値</dt>
<dd class="field-odd"><p><code class="xref cpp cpp-expr docutils literal notranslate"><span class="pre">*</span><span class="pre">this</span></code></p>
</dd>
<dt class="field-even">根拠</dt>
<dd class="field-even"><p>ユーザはクラスのコンストラクタを容易に Python へエクスポートできる。</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0EN5boost6python6class_3defEPKc2Fn">
<span id="_CPPv3I0EN5boost6python6class_3defEPKc2Fn"></span><span id="_CPPv2I0EN5boost6python6class_3defEPKc2Fn"></span>template&lt;class <code class="sig-name descname">F</code>&gt;<br /><code class="sig-name descname">def</code><span class="sig-paren">(</span>char <em class="property">const</em> *<em>name</em>, Fn <em>fn</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0EN5boost6python6class_3defEPKc2Fn" title="この定義へのパーマリンク">¶</a><br /></dt>
<dt id="_CPPv4I00EN5boost6python6class_3defEPKc2FnRK2A1">
<span id="_CPPv3I00EN5boost6python6class_3defEPKc2FnRK2A1"></span><span id="_CPPv2I00EN5boost6python6class_3defEPKc2FnRK2A1"></span>template&lt;class <code class="sig-name descname">Fn</code>, class <code class="sig-name descname">A1</code>&gt;<br /><code class="sig-name descname">def</code><span class="sig-paren">(</span>char <em class="property">const</em> *<em>name</em>, <a class="reference internal" href="#_CPPv4I00EN5boost6python6class_3defEPKc2FnRK2A1" title="boost::python::class_::def::Fn">Fn</a> <em>fn</em>, <a class="reference internal" href="#_CPPv4I00EN5boost6python6class_3defEPKc2FnRK2A1" title="boost::python::class_::def::A1">A1</a> <em class="property">const</em> &amp;<em>a1</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I00EN5boost6python6class_3defEPKc2FnRK2A1" title="この定義へのパーマリンク">¶</a><br /></dt>
<dt id="_CPPv4I000EN5boost6python6class_3defEPKc2FnRK2A1RK2A2">
<span id="_CPPv3I000EN5boost6python6class_3defEPKc2FnRK2A1RK2A2"></span><span id="_CPPv2I000EN5boost6python6class_3defEPKc2FnRK2A1RK2A2"></span>template&lt;class <code class="sig-name descname">Fn</code>, class <code class="sig-name descname">A1</code>, class <code class="sig-name descname">A2</code>&gt;<br /><code class="sig-name descname">def</code><span class="sig-paren">(</span>char <em class="property">const</em> *<em>name</em>, <a class="reference internal" href="#_CPPv4I000EN5boost6python6class_3defEPKc2FnRK2A1RK2A2" title="boost::python::class_::def::Fn">Fn</a> <em>fn</em>, <a class="reference internal" href="#_CPPv4I000EN5boost6python6class_3defEPKc2FnRK2A1RK2A2" title="boost::python::class_::def::A1">A1</a> <em class="property">const</em> &amp;<em>a1</em>, <a class="reference internal" href="#_CPPv4I000EN5boost6python6class_3defEPKc2FnRK2A1RK2A2" title="boost::python::class_::def::A2">A2</a> <em class="property">const</em> &amp;<em>a2</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I000EN5boost6python6class_3defEPKc2FnRK2A1RK2A2" title="この定義へのパーマリンク">¶</a><br /></dt>
<dt id="_CPPv4I0000EN5boost6python6class_3defEPKc2FnRK2A1RK2A2RK2A3">
<span id="_CPPv3I0000EN5boost6python6class_3defEPKc2FnRK2A1RK2A2RK2A3"></span><span id="_CPPv2I0000EN5boost6python6class_3defEPKc2FnRK2A1RK2A2RK2A3"></span>template&lt;class <code class="sig-name descname">Fn</code>, class <code class="sig-name descname">A1</code>, class <code class="sig-name descname">A2</code>, class <code class="sig-name descname">A3</code>&gt;<br /><code class="sig-name descname">def</code><span class="sig-paren">(</span>char <em class="property">const</em> *<em>name</em>, <a class="reference internal" href="#_CPPv4I0000EN5boost6python6class_3defEPKc2FnRK2A1RK2A2RK2A3" title="boost::python::class_::def::Fn">Fn</a> <em>fn</em>, <a class="reference internal" href="#_CPPv4I0000EN5boost6python6class_3defEPKc2FnRK2A1RK2A2RK2A3" title="boost::python::class_::def::A1">A1</a> <em class="property">const</em> &amp;<em>a1</em>, <a class="reference internal" href="#_CPPv4I0000EN5boost6python6class_3defEPKc2FnRK2A1RK2A2RK2A3" title="boost::python::class_::def::A2">A2</a> <em class="property">const</em> &amp;<em>a2</em>, <a class="reference internal" href="#_CPPv4I0000EN5boost6python6class_3defEPKc2FnRK2A1RK2A2RK2A3" title="boost::python::class_::def::A3">A3</a> <em class="property">const</em> &amp;<em>a3</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0000EN5boost6python6class_3defEPKc2FnRK2A1RK2A2RK2A3" title="この定義へのパーマリンク">¶</a><br /></dt>
<dd><dl class="field-list">
<dt class="field-odd">要件</dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">name</span></code> が Python の<a class="reference external" href="http://docs.python.jp/2/reference/lexical_analysis.html#identifiers">識別子の名前付け規約</a>にしたがった <a class="reference internal" href="../glossary.html#term-ntbs"><span class="xref std std-term">ntbs</span></a>。</p></li>
<li><p><code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">a1</span></code> が <a class="reference internal" href="overloads.html#grammar-token-overload-dispatch-expression"><code class="xref std std-token docutils literal notranslate"><span class="pre">overload-dispatch-expression</span></code></a> の結果である場合、有効なのは 2 番目の形式のみであり <code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">fn</span></code> は<a class="reference internal" href="../glossary.html#term-0"><span class="xref std std-term">引数長</span></a>が <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">A1</span></code> の<a class="reference internal" href="overloads.html#v2-overloads-overload-dispatch-expression"><span class="std std-ref">最大引数長</span></a>と同じである関数かメンバ関数へのポインタでなければならない。</p></li>
</ul>
</dd>
<dt class="field-even">効果</dt>
<dd class="field-even"><ul>
<li><p><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">Fn</span></code> の引数型列の接頭辞 <code class="samp docutils literal notranslate"><em><span class="pre">P</span></em></code> それぞれについて、その長さが <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">A1</span></code> の<a class="reference internal" href="overloads.html#v2-overloads-overload-dispatch-expression"><span class="std std-ref">最小引数長</span></a>であるものから、拡張クラスに <code class="xref py py-meth docutils literal notranslate"><span class="pre">name(...)</span></code> メソッドの多重定義を追加する。生成された各多重定義は、<code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">a1</span></code> の <a class="reference internal" href="concepts.html#concepts-callpolicies"><span class="std std-ref">CallPolicies</span></a> のコピーを使用して <code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">a1</span></code> の <code class="xref std std-token docutils literal notranslate"><span class="pre">call-expression</span></code> を <code class="samp docutils literal notranslate"><em><span class="pre">P</span></em></code> とともに呼び出す。<code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">A1</span></code> の合法な接頭辞の最長のものが <code class="samp docutils literal notranslate"><em><span class="pre">N</span></em></code> 個の型を有しており <code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">a1</span></code> が <code class="samp docutils literal notranslate"><em><span class="pre">M</span></em></code> 個のキーワードを保持しているとすると、各多重定義の先頭の <code class="samp docutils literal notranslate"><em><span class="pre">N</span></em></code> - <code class="samp docutils literal notranslate"><em><span class="pre">M</span></em></code> 個の引数に使用される。</p></li>
<li><p>それ以外の場合、<code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">fn</span></code> に対してメソッドの多重定義を 1 つ構築する。<code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">Fn</span></code> は null であってはならない。</p>
<ul>
<li><p><code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">fn</span></code> が関数ポインタである場合、第 1 引数は <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">U</span></code> 、<code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">U</span> <span class="pre">cv&amp;</span></code> 、<code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">U</span> <span class="pre">cv*</span></code> 、<code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">U</span> <span class="pre">cv*</span> <span class="pre">const&amp;</span></code> のいずれか（<code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">T*</span></code> が <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">U*</span></code> に変換可能とする）でなければならない。<code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">a1</span></code> から <code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">a3</span></code> が与えられた場合、下表から任意の順番であってよい。</p></li>
<li><p>上記以外で <code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">fn</span></code> がメンバ関数へのポインタである場合、参照先は <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">T</span></code> かその公開基底クラスでなければならない。<code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">a1</span></code> から <code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">a3</span></code> が与えられた場合、下表から任意の順番であってよい。</p></li>
<li><p>それ以外の場合、<code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">Fn</span></code> は <a class="reference internal" href="object.html#_CPPv4N5boost6python6objectE" title="boost::python::object"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">object</span></code></a> かその派生型でなければならない。<code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">a1</span></code> から <code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">a2</span></code> が与えられた場合、下表の 2 行目までから任意の順番であってよい。<code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">fn</span></code> が<a class="reference external" href="http://docs.python.jp/2/library/functions.html#callable">呼び出し可能</a>でなければならない。</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>名前</p></th>
<th class="head"><p>要件・型特性</p></th>
<th class="head"><p>効果</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>docstring</p></td>
<td><p><a class="reference internal" href="../glossary.html#term-ntbs"><span class="xref std std-term">ntbs</span></a>。</p></td>
<td><p>値は結果の多重定義メソッドの <code class="xref py py-attr docutils literal notranslate"><span class="pre">__doc__</span></code> 属性に束縛される。それ以前の多重定義でドキュメンテーション文字列が与えられている場合は、改行 2 文字と新しいドキュメンテーション文字列がそこに追加される。</p></td>
</tr>
<tr class="row-odd"><td><p>policies</p></td>
<td><p><a class="reference internal" href="concepts.html#concepts-callpolicies"><span class="std std-ref">CallPolicies</span></a> のモデル</p></td>
<td><p>結果の多重定義メソッドの呼び出しポリシーとしてコピーが使用される。</p></td>
</tr>
<tr class="row-even"><td><p>keywords</p></td>
<td><p><code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">fn</span></code> の<a class="reference internal" href="../glossary.html#term-0"><span class="xref std std-term">引数長</span></a>を超えることがないことを指定する <a class="reference internal" href="args.html#grammar-token-keyword-expression"><code class="xref std std-token docutils literal notranslate"><span class="pre">keyword-expression</span></code></a> の結果。</p></td>
<td><p>結果の多重定義メソッドの呼び出しポリシーとしてコピーが使用される。</p></td>
</tr>
</tbody>
</table>
</li>
</ul>
</li>
</ul>
</dd>
<dt class="field-odd">戻り値</dt>
<dd class="field-odd"><p><code class="xref cpp cpp-expr docutils literal notranslate"><span class="pre">*</span><span class="pre">this</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5boost6python6class_12staticmethodEPKc">
<span id="_CPPv3N5boost6python6class_12staticmethodEPKc"></span><span id="_CPPv2N5boost6python6class_12staticmethodEPKc"></span><span id="boost::python::class_::staticmethod__cCP"></span>class_ &amp;<code class="sig-name descname">staticmethod</code><span class="sig-paren">(</span>char <em class="property">const</em> *<em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5boost6python6class_12staticmethodEPKc" title="この定義へのパーマリンク">¶</a><br /></dt>
<dd><dl class="field-list">
<dt class="field-odd">要件</dt>
<dd class="field-odd"><p><code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">name</span></code> は Python の<a class="reference external" href="http://docs.python.jp/2/reference/lexical_analysis.html#identifiers">識別子の名前付け規約</a>にしたがった <a class="reference internal" href="../glossary.html#term-ntbs"><span class="xref std std-term">ntbs</span></a> であり、多重定義がすべて定義済みのメソッドの名前。</p>
</dd>
<dt class="field-even">効果</dt>
<dd class="field-even"><p>既存の名前 <code class="samp docutils literal notranslate"><em><span class="pre">x</span></em></code> の属性を Python の <code class="code docutils literal notranslate"><span class="pre">staticmethod(x)</span></code> 呼び出し結果で置換する。当該メソッドが静的でありオブジェクトを渡さないことを指定する。これは以下の Python 文と等価である。</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="nb">staticmethod</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">)))</span>
</pre></div>
</div>
</dd>
<dt class="field-odd">注意</dt>
<dd class="field-odd"><p><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="#_CPPv4N5boost6python6class_12staticmethodEPKc" title="boost::python::class_::staticmethod"><span class="pre">staticmethod</span></a><span class="pre">(</span><a class="reference internal" href="#_CPPv4N5boost6python6class_12staticmethodEPKc" title="boost::python::class_::staticmethod::name"><span class="pre">name</span></a><span class="pre">)</span></code> 呼び出し後に <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="#_CPPv4I0EN5boost6python6class_3defER6class_4Init" title="boost::python::class_::def"><span class="pre">def</span></a><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5boost6python6class_12staticmethodEPKc" title="boost::python::class_::staticmethod::name"><span class="pre">name</span></a>, <span class="pre">...</span><span class="sig-paren">)</span></code> を呼び出すと、<code class="xref py py-exc docutils literal notranslate"><span class="pre">RuntimeError</span></code> を<a class="reference internal" href="../glossary.html#term-1"><span class="xref std std-term">送出する</span></a>。</p>
</dd>
<dt class="field-even">戻り値</dt>
<dd class="field-even"><p><code class="xref cpp cpp-expr docutils literal notranslate"><span class="pre">*</span><span class="pre">this</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I_11unspecifiedEN5boost6python6class_3defER6class_N6detail9operator_I11unspecifiedEE">
<span id="_CPPv3I_11unspecifiedEN5boost6python6class_3defEN6detail9operator_I11unspecifiedEE"></span><span id="_CPPv2I_11unspecifiedEN5boost6python6class_3defEN6detail9operator_I11unspecifiedEE"></span>template&lt;unspecified&gt;<br />class_ &amp;<code class="sig-name descname">def</code><span class="sig-paren">(</span>detail::<a class="reference internal" href="operators.html#_CPPv4I_11unspecifiedEN5boost6python6detail9operator_E" title="boost::python::detail::operator_">operator_</a>&lt;unspecified&gt;<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I_11unspecifiedEN5boost6python6class_3defER6class_N6detail9operator_I11unspecifiedEE" title="この定義へのパーマリンク">¶</a><br /></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">効果</dt>
<dd class="field-odd"><p><a class="reference internal" href="operators.html"><span class="doc">ここ</span></a>に示す Python の<a class="reference external" href="http://docs.python.jp/2/library/operator.html">特殊関数</a>を追加する。</p>
</dd>
<dt class="field-even">戻り値</dt>
<dd class="field-even"><p><code class="xref cpp cpp-expr docutils literal notranslate"><span class="pre">*</span><span class="pre">this</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0EN5boost6python6class_7setattrER6class_PKcRK1U">
<span id="_CPPv3I0EN5boost6python6class_7setattrEPKcRK1U"></span><span id="_CPPv2I0EN5boost6python6class_7setattrEPKcRK1U"></span>template&lt;class <code class="sig-name descname">U</code>&gt;<br />class_ &amp;<code class="sig-name descname">setattr</code><span class="sig-paren">(</span>char <em class="property">const</em> *<em>name</em>, <a class="reference internal" href="#_CPPv4I0EN5boost6python6class_7setattrER6class_PKcRK1U" title="boost::python::class_::setattr::U">U</a> <em class="property">const</em> &amp;<em>u</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0EN5boost6python6class_7setattrER6class_PKcRK1U" title="この定義へのパーマリンク">¶</a><br /></dt>
<dd><dl class="field-list">
<dt class="field-odd">要件</dt>
<dd class="field-odd"><p><code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">name</span></code> は Python の<a class="reference external" href="http://docs.python.jp/2/reference/lexical_analysis.html#identifiers">識別子の名前付け規約</a>にしたがった <a class="reference internal" href="../glossary.html#term-ntbs"><span class="xref std std-term">ntbs</span></a>。</p>
</dd>
<dt class="field-even">効果</dt>
<dd class="field-even"><p><code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">u</span></code> を Python へ変換し、拡張クラスの属性辞書に追加する。</p>
<pre class="literal-block"><a class="reference external" href="http://docs.python.jp/2/c-api/object.html#PyObject_SetAttrString">PyObject_SetAttrString</a><code class="xref cpp cpp-expr docutils literal notranslate"><span class="pre">(</span><span class="pre">this</span><span class="pre">-&gt;</span><span class="pre">ptr</span><span class="pre">(</span><span class="pre">)</span><span class="pre">,</span> <a class="reference internal" href="#_CPPv4I0EN5boost6python6class_7setattrER6class_PKcRK1U" title="boost::python::class_::setattr::name"><span class="pre">name</span></a><span class="pre">,</span> <a class="reference internal" href="object.html#_CPPv4N5boost6python6objectE" title="boost::python::object"><span class="pre">object</span></a><span class="pre">(</span><a class="reference internal" href="#_CPPv4I0EN5boost6python6class_7setattrER6class_PKcRK1U" title="boost::python::class_::setattr::u"><span class="pre">u</span></a><span class="pre">)</span><span class="pre">.</span><span class="pre">ptr</span><span class="pre">(</span><span class="pre">)</span><span class="pre">)</span></code></pre>
</dd>
<dt class="field-odd">戻り値</dt>
<dd class="field-odd"><p><code class="xref cpp cpp-expr docutils literal notranslate"><span class="pre">*</span><span class="pre">this</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0EN5boost6python6class_12add_propertyEvPKcRK3GetPKc">
<span id="_CPPv3I0EN5boost6python6class_12add_propertyEPKcRK3GetPKc"></span><span id="_CPPv2I0EN5boost6python6class_12add_propertyEPKcRK3GetPKc"></span>template&lt;class <code class="sig-name descname">Get</code>&gt;<br />void <code class="sig-name descname">add_property</code><span class="sig-paren">(</span>char <em class="property">const</em> *<em>name</em>, <a class="reference internal" href="#_CPPv4I0EN5boost6python6class_12add_propertyEvPKcRK3GetPKc" title="boost::python::class_::add_property::Get">Get</a> <em class="property">const</em> &amp;<em>fget</em>, char <em class="property">const</em> *<em>doc</em> = 0<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0EN5boost6python6class_12add_propertyEvPKcRK3GetPKc" title="この定義へのパーマリンク">¶</a><br /></dt>
<dt id="_CPPv4I00EN5boost6python6class_12add_propertyEvPKcRK3GetRK3SetPKc">
<span id="_CPPv3I00EN5boost6python6class_12add_propertyEPKcRK3GetRK3SetPKc"></span><span id="_CPPv2I00EN5boost6python6class_12add_propertyEPKcRK3GetRK3SetPKc"></span>template&lt;class <code class="sig-name descname">Get</code>, class <code class="sig-name descname">Set</code>&gt;<br />void <code class="sig-name descname">add_property</code><span class="sig-paren">(</span>char <em class="property">const</em> *<em>name</em>, <a class="reference internal" href="#_CPPv4I00EN5boost6python6class_12add_propertyEvPKcRK3GetRK3SetPKc" title="boost::python::class_::add_property::Get">Get</a> <em class="property">const</em> &amp;<em>fget</em>, <a class="reference internal" href="#_CPPv4I00EN5boost6python6class_12add_propertyEvPKcRK3GetRK3SetPKc" title="boost::python::class_::add_property::Set">Set</a> <em class="property">const</em> &amp;<em>fset</em>, char <em class="property">const</em> *<em>doc</em> = 0<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I00EN5boost6python6class_12add_propertyEvPKcRK3GetRK3SetPKc" title="この定義へのパーマリンク">¶</a><br /></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">要件</dt>
<dd class="field-odd"><p><code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">name</span></code> は Python の<a class="reference external" href="http://docs.python.jp/2/reference/lexical_analysis.html#identifiers">識別子の名前付け規約</a>にしたがった <a class="reference internal" href="../glossary.html#term-ntbs"><span class="xref std std-term">ntbs</span></a>。
:効果: 新しい Python の <a class="reference external" href="http://www.python.org/2.2.2/descrintro.html#property">property</a> クラスインスタンスを作成し、<code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="object.html#_CPPv4N5boost6python6objectE" title="boost::python::object"><span class="pre">object</span></a><span class="pre">(</span><a class="reference internal" href="#_CPPv4I00EN5boost6python6class_12add_propertyEvPKcRK3GetRK3SetPKc" title="boost::python::class_::add_property::fget"><span class="pre">fget</span></a><span class="pre">)</span></code>（2 番目の形式では <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="object.html#_CPPv4N5boost6python6objectE" title="boost::python::object"><span class="pre">object</span></a><span class="pre">(</span><a class="reference internal" href="#_CPPv4I00EN5boost6python6class_12add_propertyEvPKcRK3GetRK3SetPKc" title="boost::python::class_::add_property::fset"><span class="pre">fset</span></a><span class="pre">)</span></code> も）および（省略可能な）ドキュメンテーション文字列 <code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">doc</span></code> をコンストラクタに渡す。最後にこのプロパティを構築中の Python のクラスオブジェクトに与えられた属性名 <code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">name</span></code> で追加する。</p>
</dd>
<dt class="field-even">戻り値</dt>
<dd class="field-even"><p><code class="xref cpp cpp-expr docutils literal notranslate"><span class="pre">*</span><span class="pre">this</span></code></p>
</dd>
<dt class="field-odd">根拠</dt>
<dd class="field-odd"><p>ユーザは、Python の属性アクセス構文で呼び出せる関数を容易にエクスポートできる。</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0EN5boost6python6class_19add_static_propertyEvPKcRK3Get">
<span id="_CPPv3I0EN5boost6python6class_19add_static_propertyEPKcRK3Get"></span><span id="_CPPv2I0EN5boost6python6class_19add_static_propertyEPKcRK3Get"></span>template&lt;class <code class="sig-name descname">Get</code>&gt;<br />void <code class="sig-name descname">add_static_property</code><span class="sig-paren">(</span>char <em class="property">const</em> *<em>name</em>, <a class="reference internal" href="#_CPPv4I0EN5boost6python6class_19add_static_propertyEvPKcRK3Get" title="boost::python::class_::add_static_property::Get">Get</a> <em class="property">const</em> &amp;<em>fget</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0EN5boost6python6class_19add_static_propertyEvPKcRK3Get" title="この定義へのパーマリンク">¶</a><br /></dt>
<dt id="_CPPv4I00EN5boost6python6class_19add_static_propertyEvPKcRK3GetRK3Set">
<span id="_CPPv3I00EN5boost6python6class_19add_static_propertyEPKcRK3GetRK3Set"></span><span id="_CPPv2I00EN5boost6python6class_19add_static_propertyEPKcRK3GetRK3Set"></span>template&lt;class <code class="sig-name descname">Get</code>, class <code class="sig-name descname">Set</code>&gt;<br />void <code class="sig-name descname">add_static_property</code><span class="sig-paren">(</span>char <em class="property">const</em> *<em>name</em>, <a class="reference internal" href="#_CPPv4I00EN5boost6python6class_19add_static_propertyEvPKcRK3GetRK3Set" title="boost::python::class_::add_static_property::Get">Get</a> <em class="property">const</em> &amp;<em>fget</em>, <a class="reference internal" href="#_CPPv4I00EN5boost6python6class_19add_static_propertyEvPKcRK3GetRK3Set" title="boost::python::class_::add_static_property::Set">Set</a> <em class="property">const</em> &amp;<em>fset</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I00EN5boost6python6class_19add_static_propertyEvPKcRK3GetRK3Set" title="この定義へのパーマリンク">¶</a><br /></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">要件</dt>
<dd class="field-odd"><p><code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">name</span></code> は Python の<a class="reference external" href="http://docs.python.jp/2/reference/lexical_analysis.html#identifiers">識別子の名前付け規約</a>にしたがった <a class="reference internal" href="../glossary.html#term-ntbs"><span class="xref std std-term">ntbs</span></a>。</p>
</dd>
<dt class="field-even">効果</dt>
<dd class="field-even"><p>Boost.Python.StaticProperty オブジェクトを作成し、<code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="object.html#_CPPv4N5boost6python6objectE" title="boost::python::object"><span class="pre">object</span></a><span class="pre">(</span><a class="reference internal" href="#_CPPv4I00EN5boost6python6class_19add_static_propertyEvPKcRK3GetRK3Set" title="boost::python::class_::add_static_property::fget"><span class="pre">fget</span></a><span class="pre">)</span></code>（2 番目の形式では <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="object.html#_CPPv4N5boost6python6objectE" title="boost::python::object"><span class="pre">object</span></a><span class="pre">(</span><a class="reference internal" href="#_CPPv4I00EN5boost6python6class_19add_static_propertyEvPKcRK3GetRK3Set" title="boost::python::class_::add_static_property::fset"><span class="pre">fset</span></a><span class="pre">)</span></code> も）をコンストラクタに渡す。最後にこのプロパティを構築中の Python のクラスオブジェクトに与えられた属性名 <code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">name</span></code> で追加する。StaticProperty は先頭の <code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">self</span></code> 引数なしで呼び出せる Python の <a class="reference external" href="http://www.python.org/2.2.2/descrintro.html#property">property</a> クラスの特殊な派生クラスである。</p>
</dd>
<dt class="field-odd">戻り値</dt>
<dd class="field-odd"><p><code class="xref cpp cpp-expr docutils literal notranslate"><span class="pre">*</span><span class="pre">this</span></code></p>
</dd>
<dt class="field-even">根拠</dt>
<dd class="field-even"><p>ユーザは、Python の属性アクセス構文で呼び出せる関数を容易にエクスポートできる。</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0EN5boost6python6class_12def_readonlyER6class_PKcM1T1DPKc">
<span id="_CPPv3I0EN5boost6python6class_12def_readonlyEPKcM1T1DPKc"></span><span id="_CPPv2I0EN5boost6python6class_12def_readonlyEPKcM1T1DPKc"></span>template&lt;class <code class="sig-name descname">D</code>&gt;<br />class_ &amp;<code class="sig-name descname">def_readonly</code><span class="sig-paren">(</span>char <em class="property">const</em> *<em>name</em>, <a class="reference internal" href="#_CPPv4I0EN5boost6python6class_12def_readonlyER6class_PKcM1T1DPKc" title="boost::python::class_::def_readonly::D">D</a> <em>T</em>::* <em>pm</em>, char <em class="property">const</em> *<em>doc</em> = 0<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0EN5boost6python6class_12def_readonlyER6class_PKcM1T1DPKc" title="この定義へのパーマリンク">¶</a><br /></dt>
<dt id="_CPPv4I0EN5boost6python6class_12def_readonlyER6class_PKcRK1D">
<span id="_CPPv3I0EN5boost6python6class_12def_readonlyEPKcRK1D"></span><span id="_CPPv2I0EN5boost6python6class_12def_readonlyEPKcRK1D"></span>template&lt;class <code class="sig-name descname">D</code>&gt;<br />class_ &amp;<code class="sig-name descname">def_readonly</code><span class="sig-paren">(</span>char <em class="property">const</em> *<em>name</em>, <a class="reference internal" href="#_CPPv4I0EN5boost6python6class_12def_readonlyER6class_PKcRK1D" title="boost::python::class_::def_readonly::D">D</a> <em class="property">const</em> &amp;<em>d</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0EN5boost6python6class_12def_readonlyER6class_PKcRK1D" title="この定義へのパーマリンク">¶</a><br /></dt>
<dd><dl class="field-list">
<dt class="field-odd">要件</dt>
<dd class="field-odd"><p><code class="xref cpp cpp-var docutils literal notranslate"><span class="pre">name</span></code> は Python の<a class="reference external" href="http://docs.python.jp/2/reference/lexical_analysis.html#identifiers">識別子の名前付け規約</a>にしたがった <a class="reference internal" href="../glossary.html#term-ntbs"><span class="xref std std-term">ntbs</span></a>。</p>
</dd>
<dt class="field-even">効果</dt>
<dd class="field-even"><p>それぞれ、</p>
<pre class="literal-block">this-&gt;add_property(name, <a class="reference internal" href="data_members.html#_CPPv4I00EN5boost6python11make_getterE6objectM1C1D" title="boost::python::make_getter"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">make_getter</span></code></a>(pm), doc);</pre>
<p>および</p>
<pre class="literal-block">this-&gt;add_static_property(name, <a class="reference internal" href="data_members.html#_CPPv4I00EN5boost6python11make_getterE6objectM1C1D" title="boost::python::make_getter"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">make_getter</span></code></a>(d));</pre>
</dd>
<dt class="field-odd">戻り値</dt>
<dd class="field-odd"><p><code class="xref cpp cpp-expr docutils literal notranslate"><span class="pre">*</span><span class="pre">this</span></code></p>
</dd>
<dt class="field-even">根拠</dt>
<dd class="field-even"><p>ユーザは、Python から自然な構文で取得可能なクラスのデータメンバや自由変数を容易にエクスポートできる。</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0EN5boost6python6class_13def_readwriteER6class_PKcM1T1DPKc">
<span id="_CPPv3I0EN5boost6python6class_13def_readwriteEPKcM1T1DPKc"></span><span id="_CPPv2I0EN5boost6python6class_13def_readwriteEPKcM1T1DPKc"></span>template&lt;class <code class="sig-name descname">D</code>&gt;<br />class_ &amp;<code class="sig-name descname">def_readwrite</code><span class="sig-paren">(</span>char <em class="property">const</em> *<em>name</em>, <a class="reference internal" href="#_CPPv4I0EN5boost6python6class_13def_readwriteER6class_PKcM1T1DPKc" title="boost::python::class_::def_readwrite::D">D</a> <em>T</em>::* <em>pm</em>, char <em class="property">const</em> *<em>doc</em> = 0<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0EN5boost6python6class_13def_readwriteER6class_PKcM1T1DPKc" title="この定義へのパーマリンク">¶</a><br /></dt>
<dt id="_CPPv4I0EN5boost6python6class_13def_readwriteER6class_PKcR1D">
<span id="_CPPv3I0EN5boost6python6class_13def_readwriteEPKcR1D"></span><span id="_CPPv2I0EN5boost6python6class_13def_readwriteEPKcR1D"></span>template&lt;class <code class="sig-name descname">D</code>&gt;<br />class_ &amp;<code class="sig-name descname">def_readwrite</code><span class="sig-paren">(</span>char <em class="property">const</em> *<em>name</em>, <a class="reference internal" href="#_CPPv4I0EN5boost6python6class_13def_readwriteER6class_PKcR1D" title="boost::python::class_::def_readwrite::D">D</a> &amp;<em>d</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0EN5boost6python6class_13def_readwriteER6class_PKcR1D" title="この定義へのパーマリンク">¶</a><br /></dt>
<dd><dl class="field-list">
<dt class="field-odd">効果</dt>
<dd class="field-odd"><p>それぞれ、</p>
<pre class="literal-block">this-&gt;add_property(name, <a class="reference internal" href="data_members.html#_CPPv4I00EN5boost6python11make_getterE6objectM1C1D" title="boost::python::make_getter"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">make_getter</span></code></a>(pm), <a class="reference internal" href="data_members.html#_CPPv4I00EN5boost6python11make_setterE6objectM1C1D" title="boost::python::make_setter"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">make_setter</span></code></a>(pm), doc);</pre>
<p>および</p>
<pre class="literal-block">this-&gt;add_static_property(name, <a class="reference internal" href="data_members.html#_CPPv4I00EN5boost6python11make_getterE6objectM1C1D" title="boost::python::make_getter"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">make_getter</span></code></a>(d), <a class="reference internal" href="data_members.html#_CPPv4I00EN5boost6python11make_setterE6objectM1C1D" title="boost::python::make_setter"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">make_setter</span></code></a>(pm));</pre>
</dd>
<dt class="field-even">戻り値</dt>
<dd class="field-even"><p><code class="xref cpp cpp-expr docutils literal notranslate"><span class="pre">*</span><span class="pre">this</span></code></p>
</dd>
<dt class="field-odd">根拠</dt>
<dd class="field-odd"><p>ユーザは、Python から自然な構文で取得・設定可能なクラスのデータメンバや自由変数を容易にエクスポートできる。</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0EN5boost6python6class_10def_pickleER6class_RK11PickleSuite">
<span id="_CPPv3I0EN5boost6python6class_10def_pickleERK11PickleSuite"></span><span id="_CPPv2I0EN5boost6python6class_10def_pickleERK11PickleSuite"></span>template&lt;typename <code class="sig-name descname">PickleSuite</code>&gt;<br />class_ &amp;<code class="sig-name descname">def_pickle</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I0EN5boost6python6class_10def_pickleER6class_RK11PickleSuite" title="boost::python::class_::def_pickle::PickleSuite">PickleSuite</a> <em class="property">const</em>&amp;<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0EN5boost6python6class_10def_pickleER6class_RK11PickleSuite" title="この定義へのパーマリンク">¶</a><br /></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">要件</dt>
<dd class="field-odd"><p><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">PickleSuite</span></code> は <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">pickle_suite</span></code> の公開派生型でなければならない。</p>
</dd>
<dt class="field-even">効果</dt>
<dd class="field-even"><p>次の特殊な属性およびメソッドの合法な組み合わせを定義する：<code class="xref py py-meth docutils literal notranslate"><span class="pre">__getinitargs__</span></code> 、<code class="xref py py-meth docutils literal notranslate"><span class="pre">__getstate__</span></code> 、<code class="xref py py-meth docutils literal notranslate"><span class="pre">__setstate__</span></code> 、<code class="xref py py-attr docutils literal notranslate"><span class="pre">__getstate_manages_dict__</span></code> 、<code class="xref py py-attr docutils literal notranslate"><span class="pre">__safe_for_unpickling__</span></code> 、<code class="xref py py-meth docutils literal notranslate"><span class="pre">__reduce__</span></code></p>
</dd>
<dt class="field-odd">戻り値</dt>
<dd class="field-odd"><p><code class="xref cpp cpp-expr docutils literal notranslate"><span class="pre">*</span><span class="pre">this</span></code></p>
</dd>
<dt class="field-even">根拠</dt>
<dd class="field-even"><p>ユーザは、ラップしたクラスについて完全な pickle サポートを確立するための<a class="reference internal" href="pickle.html"><span class="doc">高水準インターフェイスを容易に使用</span></a>できる。</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5boost6python6class_15enable_picklingEv">
<span id="_CPPv3N5boost6python6class_15enable_picklingEv"></span><span id="_CPPv2N5boost6python6class_15enable_picklingEv"></span><span id="boost::python::class_::enable_pickling"></span>class_ &amp;<code class="sig-name descname">enable_pickling</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5boost6python6class_15enable_picklingEv" title="この定義へのパーマリンク">¶</a><br /></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">効果</dt>
<dd class="field-odd"><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">__reduce__</span></code> メソッドと <code class="xref py py-attr docutils literal notranslate"><span class="pre">__safe_for_unpickling__</span></code> 属性を定義する。</p>
</dd>
<dt class="field-even">戻り値</dt>
<dd class="field-even"><p><code class="xref cpp cpp-expr docutils literal notranslate"><span class="pre">*</span><span class="pre">this</span></code></p>
</dd>
<dt class="field-odd">根拠</dt>
<dd class="field-odd"><p><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">def_pickle</span></code> の軽量な代替。Python から <a class="reference internal" href="pickle.html"><span class="doc">pickle サポート</span></a>の実装を有効にする。</p>
</dd>
</dl>
</dd></dl>

</div>
</div>
<div class="section" id="bases-t1-t2-tn">
<span id="v2-class-bases-spec"></span><h3><code class="xref py py-class docutils literal notranslate"><span class="pre">bases&lt;T1,</span> <span class="pre">T2,</span> <span class="pre">...TN&gt;</span></code> クラステンプレート<a class="headerlink" href="#bases-t1-t2-tn" title="このヘッドラインへのパーマリンク">¶</a></h3>
<div class="contents local topic" id="id19">
<ul class="simple">
<li><p><a class="reference internal" href="#bases" id="id30"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">bases</span></code> クラステンプレートの概要</a></p></li>
</ul>
</div>
<dl class="cpp struct">
<dt id="_CPPv4IDpEN5boost6python5basesE">
<span id="_CPPv3IDpEN5boost6python5basesE"></span><span id="_CPPv2IDpEN5boost6python5basesE"></span>template&lt;class ...<code class="sig-name descname">Ts</code>&gt;<br /><em class="property">struct </em><code class="sig-name descname">bases</code><a class="headerlink" href="#_CPPv4IDpEN5boost6python5basesE" title="この定義へのパーマリンク">¶</a><br /></dt>
<dd><p><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">class_</span></code> のインスタンス化において基底クラスのリストを記述するのに使用する <a class="reference external" href="http://www.boost.org/libs/mpl/doc/refmanual/forward-sequence.html">MPL シーケンス</a>。</p>
</dd></dl>

<div class="section" id="bases">
<span id="v2-class-bases-spec-synopsis"></span><h4><a class="toc-backref" href="#id30"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">bases</span></code> クラステンプレートの概要</a><a class="headerlink" href="#bases" title="このヘッドラインへのパーマリンク">¶</a></h4>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">namespace</span> <span class="n">boost</span> <span class="p">{</span> <span class="k">namespace</span> <span class="n">python</span>
<span class="p">{</span>
  <span class="k">template</span> <span class="o">&lt;</span><span class="n">T1</span> <span class="o">=</span> <span class="n">unspecified</span><span class="p">,...</span><span class="n">Tn</span> <span class="o">=</span> <span class="n">unspecified</span><span class="o">&gt;</span>
  <span class="k">struct</span> <span class="nc">bases</span>
  <span class="p">{};</span>
<span class="p">}}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="v2-class-examples">
<span id="id20"></span><h2><a class="toc-backref" href="#id25">例</a><a class="headerlink" href="#v2-class-examples" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>次のような C++ クラス宣言があるとすると、</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Foo</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Bar</span><span class="p">,</span> <span class="k">public</span> <span class="n">Baz</span>
<span class="p">{</span>
 <span class="k">public</span><span class="o">:</span>
   <span class="n">Foo</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">char</span> <span class="k">const</span><span class="o">*</span> <span class="n">y</span><span class="p">);</span>
   <span class="n">Foo</span><span class="p">(</span><span class="kt">double</span><span class="p">);</span>

   <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="k">const</span><span class="o">&amp;</span> <span class="n">name</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="n">m_name</span><span class="p">;</span> <span class="p">}</span>
   <span class="kt">void</span> <span class="n">name</span><span class="p">(</span><span class="kt">char</span> <span class="k">const</span><span class="o">*</span><span class="p">);</span>

   <span class="kt">double</span> <span class="n">value</span><span class="p">;</span> <span class="c1">// 公開データ</span>
 <span class="k">private</span><span class="o">:</span>
   <span class="p">...</span>
<span class="p">};</span>
</pre></div>
</div>
<p>対応する Boost.Python 拡張クラスは以下のように作成できる。</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="k">namespace</span> <span class="n">boost</span><span class="o">::</span><span class="n">python</span><span class="p">;</span>

<span class="n">class_</span><span class="o">&lt;</span><span class="n">Foo</span><span class="p">,</span><span class="n">bases</span><span class="o">&lt;</span><span class="n">Bar</span><span class="p">,</span><span class="n">Baz</span><span class="o">&gt;</span> <span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;Foo&quot;</span><span class="p">,</span>
          <span class="s">&quot;これは Foo のドキュメンテーション文字列。&quot;</span>
          <span class="s">&quot;Foo 拡張クラスの記述がここに入る&quot;</span><span class="p">,</span>

          <span class="n">init</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="kt">char</span> <span class="k">const</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">args</span><span class="p">(</span><span class="s">&quot;x&quot;</span><span class="p">,</span><span class="s">&quot;y&quot;</span><span class="p">),</span> <span class="s">&quot;__init__ のドキュメンテーション文字列&quot;</span><span class="p">)</span>
          <span class="p">)</span>
   <span class="p">.</span><span class="n">def</span><span class="p">(</span><span class="n">init</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">())</span>
   <span class="p">.</span><span class="n">def</span><span class="p">(</span><span class="s">&quot;get_name&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">Foo</span><span class="o">::</span><span class="n">get_name</span><span class="p">,</span> <span class="n">return_internal_reference</span><span class="o">&lt;&gt;</span><span class="p">())</span>
   <span class="p">.</span><span class="n">def</span><span class="p">(</span><span class="s">&quot;set_name&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">Foo</span><span class="o">::</span><span class="n">set_name</span><span class="p">)</span>
   <span class="p">.</span><span class="n">def_readwrite</span><span class="p">(</span><span class="s">&quot;value&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">Foo</span><span class="o">::</span><span class="n">value</span><span class="p">)</span>
   <span class="p">;</span>
</pre></div>
</div>
<dl class="footnote brackets">
<dt class="label" id="id21"><span class="brackets"><a class="fn-backref" href="#id5">1</a></span></dt>
<dd><p>「それ以前にエクスポートした」とは <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">bases</span></code> 内の各 <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">B</span></code> について、<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">class_&lt;B,</span> <span class="pre">...&gt;</span></code> が構築済みでなければならないという意味である。</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">class_</span><span class="o">&lt;</span><span class="n">Base</span><span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;Base&quot;</span><span class="p">);</span>
<span class="n">class_</span><span class="o">&lt;</span><span class="n">Derived</span><span class="p">,</span> <span class="n">bases</span><span class="o">&lt;</span><span class="n">Base</span><span class="o">&gt;</span> <span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;Derived&quot;</span><span class="p">);</span>
</pre></div>
</div>
</dd>
<dt class="label" id="id22"><span class="brackets"><a class="fn-backref" href="#id6">2</a></span></dt>
<dd><p>訳注　<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">std::shared_ptr</span></code>（C++11 以降）も自動的にサポートされます。</p>
</dd>
</dl>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="def.html" class="btn btn-neutral float-right" title="boost/python/def.hpp" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="components.html" class="btn btn-neutral float-left" title="高水準コンポーネント" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; 著作権 2020, exeal

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>